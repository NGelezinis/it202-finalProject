<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>repl.it</title>
    
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">


  </head>
  <body>
    
    <!--  -->
    <header class="mdc-top-app-bar">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section" role="toolbar">
          <button type="button" id="home">Home</button> 
          <button type="button" id="page1">Page1</button> 
          <button type="button" id="page2">Page2</button> 
        </section>
      </div>
    </header>
    <div class="mdc-top-app-bar--fixed-adjust"><div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <p id="demo"></p>

    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    
    <div id="currentPage" href=""></div>
        
    <div class="mdc-text-field">
      <input type="text" id="search-text" class="mdc-text-field__input">
      <label class="mdc-floating-label" for="my-text-field">Search</label>
      <div class="mdc-line-ripple"></div>
    </div>
    <button type="button" id = "buttonSearch" class="mdc-button">submit</button>
        
    <a id="template" target="_blank"></a>
    <script type="text/javascript">
      
      function initSearch() {
        $("body").append('<h1>Searching for "' + $("#search-text").val() + '" 100 results</h1>');
        var lookFor;
        lookFor = $("#search-text").val();
        var url = "https://api.steampowered.com/ISteamApps/GetAppList/v2/?key=FBE137D7F9891331E38F1AEF8B394271&format=json";  
        $.ajax({
          url: url,
          method: 'GET',
          data: {
            "$limit" : 100
          }
        }).done(function(result) {
        //console.log(result);

        // loop through array of results
          $.each(result.applist, function(i,v) {
              var i = 0;
              var j = 0;
              var endpt = v.length;
              while(i < endpt && j < 100){
                //console.log(v[i]);
                if(v[i].name.includes(lookFor)){
                  var url2="https://store.steampowered.com/app/"
                  url2 += v[i].appid + "/" + v[i].name + "/"
                  var clone = $("#template").clone();
                  clone.attr("id",v[i].appid);
                  clone.attr("href", url2);
                  $(clone).append(v[i].name)
                  $("body").append(clone);
                  $("body").append('<br>');
                  j++;
                }
                i++;
              }
          });
        }).fail(function(err) {
          throw err;
        });
          
      }
      
    </script>
    <script type="text/javascript">



    // wait til the document is ready
    $(document).ready(function () {
      $( "#currentPage" ).load( "home.html" );

      // initializes all elements with the data-mdc-auto-init attribute
      window.mdc.autoInit();

      // creating a var reference just to save code later


      // when menu icon is click, toggle drawer open property
      
      $("#buttonSearch").on("click", initSearch)
        
      $("#home").on("click", function(){
        $( "#currentPage" ).load( "home.html" );
      });
        
      $("#page1").on("click", function(){
        $( "#currentPage" ).load( "page1.html" );
      });
        
      $("#page2").on("click", function(){
        $( "#currentPage" ).load( "page2.html" );
      });

      //$( "#currentPage" ).load( $(this).attr("data-page") );


    })
    </script>
  
  </body>
</html>